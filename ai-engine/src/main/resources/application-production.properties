# Production Configuration for Railway
spring.application.name=ai-engine

# Active profile marker
spring.config.activate.on-profile=production

# Server Configuration - Railway provides PORT via environment variable
server.port=${PORT:8081}

# LLM API Keys (Set these in Railway environment variables)
llm.gemini.api.key=${GEMINI_API_KEY:}
llm.gemini.endpoint=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent

# GROQ Configuration
groq.api.key=${GROQ_API_KEY:}

# Hugging Face Configuration
hf.api.key=${HF_API_KEY:}

# MongoDB Configuration - Use Railway's MONGO_URL or custom MONGODB_URI
# Note: Railway's MONGO_URL includes the database name
# Fallback chain: MONGO_URL -> MONGODB_URI -> localhost for dev
spring.data.mongodb.uri=${MONGO_URL:${MONGODB_URI:mongodb://localhost:27017/keeplynk_ai}}

# MongoDB auto-configuration enabled
spring.data.mongodb.auto-index-creation=true

# Logging
logging.level.root=INFO
logging.level.com.keeplynk.ai=DEBUG
logging.level.org.springframework.boot.autoconfigure.mongo=DEBUG
logging.level.org.mongodb.driver=INFO

# Actuator endpoints for health checks
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

# Health check configuration - exclude MongoDB completely
management.health.mongo.enabled=false
management.health.defaults.enabled=true
spring.data.mongodb.auto-index-creation=false

# CORS Configuration (adjust based on your frontend domains)
cors.allowed.origins=${ALLOWED_ORIGINS:*}
